/*!
 * Template Functions
*/
!function(e){"use strict";e(window).on("load",function(){e("div").is(".page-loader")&&e(".page-loader").delay(500).fadeOut(800)}),e(document).ready(function(){function t(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var a=e.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;return a==s&&(s=t.clientWidth),document.body.removeChild(t),a-s}function a(e){return e.map(function(e){var t=moment(e.end_time),a="https://www.facebook.com/events/"+e.id;return'<div class="row event"><div class="col-1"><div class="date-day">'+t.format("DD")+'</div><div class="date-month">'+t.format("MMM")+'</div></div><div class="col-8"><div class="event-name">'+e.name+"</div><div>"+e.description.substring(0,80)+'... <a href="'+a+'" target="_blank">See more</a></div></div><div class="col d-flex justify-content-end"><a class="btn btn-lg" href="'+a+'" target="_blank">Get Tickets</a></div></div>'}).join("")}function s(t){e.ajax({type:"GET",url:j,dataType:"json",data:{time_filter:t,access_token:S},cache:!1,success:function(s){var o=e("#"+t+"-events");if(s.hasOwnProperty("data")&&s.data.length){var i=a(s.data);o.append(i)}else o.addClass("text-center").html("<p>Events coming soon. Follow us on social media to get notified of new events.</p>")}})}var o=e(".header"),i=e(".onepage-nav"),n=e(".parallax"),r=e(".row-post-masonry"),l=e("[data-background]"),c=e(".module-cover-slides"),d=e("[data-mY]"),p=e(".progress-item"),u=e(".counter-timer"),f=e(".chart"),h=e(".twitter-feed"),m=e(".sticky-sidebar"),v=e(".map"),g=e(".smoothscroll"),y=e(".play-button"),w=e(".gallery"),b=e(".shop-single-item-popup"),T=e(".portfolio-carousel"),k=e(".shop-carousel"),C=e(".clients-carousel"),x=e(".review-slides"),z=e(".review-carousel"),A=e(".image-slider"),W=e("#contact-form"),j="https://graph.facebook.com/v3.2/1398145177083309/events",S="EAAINsEm9qZCQBACgJzHXteIZA97ftOXB2UaTZAveRUmtKtTGkmZBAjmvKK8qS4nnUcMHq6ud6XK4PsNQz5jlAnuFflgzfYbvETzdEm5UTS1yen2fuT6nIyxWAlDuvVHY8OlPA7YCuzZALv1rKcrZBHumtC6FkLM43OI9DK5FOmSvWkWe4GbysbDJ4HwkUNLK9AYrbPWmc4hAZDZD";e(document).on("click",".inner-navigation.show",function(t){e(t.target).is("span")&&!e(t.target).parent().parent().hasClass("menu-item-has-children")&&e(this).collapse("hide")}),e("a",i).filter(function(){e(this).is(':not([href^="#"])')&&e(this).addClass("external")}),i.singlePageNav({filter:":not(.external)",currentClass:"active",offset:"58"}),e(window).scroll(function(){var t=e(window).scrollTop();t>=5?(o.addClass("header-small"),o.addClass("header-shadow")):(o.removeClass("header-small"),o.removeClass("header-shadow"))}).scroll(),c.each(function(){e(this).superslides(e.extend({play:1e4,animation:"slide",animation_speed:800,pagination:!0,scrollable:!0},e(this).data("module-cover-slides-options")))}),n.each(function(){1==e(this).attr("data-gradient")?(e(this).append('<div class="overlay-background overlay-gradient"></div>'),e(this).find(".overlay-background").css("opacity",e(this).attr("data-overlay"))):e(this).attr("data-overlay")>0&&(e(this).append('<div class="overlay-background"></div>'),e(this).find(".overlay-background").css("opacity",e(this).attr("data-overlay")))}),l.each(function(){e(this).css("background-image","url("+e(this).attr("data-background")+")")}),d.each(function(){e(this).css("margin-top",e(this).attr("data-mY"))}),e(".off-canvas-open, .off-canvas-close").on("click",function(){return e("body").toggleClass("off-canvas-sidebar-open"),!1}).resize(),e(document).on("click",function(t){var a=e(".off-canvas-sidebar");a.is(t.target)||0!==a.has(t.target).length||e("body").removeClass("off-canvas-sidebar-open")}).resize(),e(".off-canvas-sidebar-wrapper").css("margin-right","-"+t()+"px"),e(window).on("resize",function(){var t=Math.max(e(window).width(),window.innerWidth);t<=991&&e("body").removeClass("off-canvas-sidebar-open")});var E=e(".filters"),P=e(".row-portfolio");e("a",E).on("click",function(){var t=e(this).attr("data-filter");return e(".current",E).removeClass("current"),e(this).addClass("current"),P.isotope({filter:t}),!1}),e(window).on("resize",function(){P.imagesLoaded(function(){P.isotope({layoutMode:"masonry",itemSelector:".portfolio-item",transitionDuration:"0.4s",masonry:{columnWidth:".grid-sizer"}})})}),e(window).on("resize",function(){setTimeout(function(){r.isotope({layoutMode:"masonry",transitionDuration:"0.5s"})},1e3)}).resize(),A.each(function(){e(this).owlCarousel(e.extend({dots:1,nav:1,center:1,items:1,loop:1,autoHeight:0,margin:0,navText:['<span class="ti-arrow-left"></span>','<span class="ti-arrow-right"></span>']},e(this).data("carousel-options")))}),x.each(function(){e(this).owlCarousel(e.extend({autoplay:5e3,nav:1,items:1,loop:1,navText:['<span class="ti-arrow-left"></span>','<span class="ti-arrow-right"></span>']},e(this).data("carousel-options")))}),z.each(function(){e(this).owlCarousel(e.extend({nav:0,dots:1,autoplay:1,items:1,loop:1,margin:30,responsive:{768:{items:2},1025:{items:3}},navText:['<span class="ti-angle-left"></span>','<span class="ti-angle-right"></span>']},e(this).data("carousel-options")))}),C.each(function(){e(this).owlCarousel(e.extend({nav:0,dots:1,autoplay:1,items:2,loop:1,responsive:{768:{items:4}},navText:['<span class="ti-arrow-left"></span>','<span class="ti-arrow-right"></span>']},e(this).data("carousel-options")))}),k.each(function(){e(this).owlCarousel(e.extend({nav:0,dots:1,autoplay:1,items:1,loop:1,margin:30,responsive:{768:{items:2},1025:{items:4}},navText:['<span class="ti-angle-left"></span>','<span class="ti-angle-right"></span>']},e(this).data("carousel-options")))}),T.each(function(){e(this).owlCarousel(e.extend({nav:1,dots:0,autoplay:1,items:1,loop:1,margin:30,responsive:{768:{items:2},1025:{items:4}},navText:['<span class="ti-angle-left"></span>','<span class="ti-angle-right"></span>']},e(this).data("carousel-options")))}),y.magnificPopup({type:"iframe"}),w.magnificPopup({type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{titleSrc:"title",tError:"The image could not be loaded."}}),b.magnificPopup({type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{titleSrc:"title",tError:"The image could not be loaded."}}),p.each(function(){e(this).appear(function(){var t=e(this).find(".progress-bar").attr("aria-valuenow");e(this).find(".progress-bar").animate({width:t+"%"}),e(this).find(".progress-number").countTo({from:0,to:t,speed:900,refreshInterval:30})})}),u.each(function(){e(this).appear(function(){var t=e(this).find("strong").attr("data-to");e(this).countTo({from:0,to:t,speed:1500,refreshInterval:10,formatter:function(e,t){return e=e.toFixed(t.decimals),e=e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}})})}),f.each(function(){e(this).appear(function(){e(this).easyPieChart(e.extend({barColor:"#000000",trackColor:"#eeeeee",scaleColor:!1,lineCap:"round",lineWidth:3,size:150},e(this).data("chart-options")))})}),h.each(function(t){e(this).attr("id","twitter-"+t);var a=e(this).data("twitter"),s=e(this).data("number"),o={id:a,domId:"twitter-"+t,maxTweets:s,enableLinks:!0,showPermalinks:!1};twitterFetcher.fetch(o)}),m.imagesLoaded(function(){m.stick_in_parent({offset_top:80,recalc_every:1}).on("sticky_kit:bottom",function(t){e(this).parent().css("position","relative")}).on("sticky_kit:unbottom",function(t){e(this).parent().css("position","relative")}).scroll()}),e(function(){e('[data-toggle="tooltip"]').tooltip()}),e("body").fitVids(),W.find("input,textarea").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,t,a){},submitSuccess:function(t,a){a.preventDefault();var s=e("submit",W),o=e("#contact-response"),i=e('[name="name"]',W).val(),n=e('[name="email"]',W).val(),r=e('[name="subject"]',W).val(),l=e('[name="message"]',W).val();e.ajax({type:"POST",url:"https://hooks.zapier.com/hooks/catch/4016827/cpn7z8/",dataType:"json",data:{name:i,email:n,subject:r,message:l},cache:!1,beforeSend:function(e){s.empty(),s.append('<i class="fa fa-cog fa-spin"></i> Wait...')},success:function(e){console.log("Go results: ",e),"success"===e.status?(o.html("We've got your message! We will get back to you as soon as we can :)"),t.fadeOut(500)):o.html("An unexpected error occured! Please try again later.")}})}}),v.each(function(){var t=/\[[^(\]\[)]*\]/g,a=e(this),s=Math.max(e(window).width(),window.innerWidth)>736,o=!!a.data("street-view");if(a.length>0){var i,n=a[0].getAttribute("data-addresses").match(t),r=a[0].getAttribute("data-info").match(t),l=a.data("icon"),c=a.data("zoom"),d=[];n.forEach(function(e,t){var a="{";if(a+='"latLng":'+e,0==t&&(i=JSON.parse(e)),r[t]){var s=r[t].replace(/\[|\]/g,"");a+=', "data":"'+s+'"'}a+="}",d.push(JSON.parse(a))});var p={scrollwheel:!1,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}]};p.center=i,p.zoom=c,p.draggable=s;var u={icon:l},f={map:{options:p},streetviewpanorama:{options:{container:e(this),opts:{visible:o,position:i,enableCloseButton:!0,scrollwheel:!1}}},marker:{values:d,options:u,events:{click:function(t,a,s){if(s.data){var o=e(this).gmap3("get"),i=e(this).gmap3({get:{name:"infowindow"}});i?(i.open(o,t),i.setContent(s.data)):e(this).gmap3({infowindow:{anchor:t,options:{content:s.data}}})}}}}};a.gmap3(f)}}),g.on("click",function(t){var a=this.hash,s=e(a);e("html, body").stop().animate({scrollTop:s.offset().top-58},600,"swing"),t.preventDefault()}),e(window).scroll(function(){e(this).scrollTop()>100?e(".scroll-top").addClass("scroll-top-visible"):e(".scroll-top").removeClass("scroll-top-visible")}),e('a[href="#top"]').on("click",function(){return e("html, body").animate({scrollTop:0},"slow"),!1}),n.jarallax({speed:.4}),s("past"),s("upcoming")})}(jQuery);